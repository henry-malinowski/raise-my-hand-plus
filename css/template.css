/**
 * Raise My Hand - Spooky Theme Override Template
 * ================================================
 * 
 * This template demonstrates how another module can override the visual elements
 * of Raise My Hand. Since Raise My Hand uses the `applications` layer, overrides
 * in the `modules` layer will take precedence without needing !important.
 * 
 * USAGE:
 * 1. Copy this file to your module's css/ directory
 * 2. Replace the placeholder image paths with your actual assets
 * 3. Import it into your module's main CSS file:
 *    
 *    @import "raise-my-hand-overrides.css" layer(modules);
 *    
 * 4. Or if listed in module.json styles array, Foundry v13+ auto-layers it
 * 
 * For the examples below, we're creating a "spooky" Halloween theme with:
 * - Skeletal hand for the hand raise notification
 * - Skull and crossbones for the X-Card
 * - Matching icon replacements throughout the UI
 */

@layer modules {

  /* ============================================
   * COLOR VARIABLES
   * Override the module's color scheme
   * ============================================ */
  :root {
    /* Ghostly green instead of yellow */
    --raise-my-hand-yellow: #39ff14;
    /* Blood red for X-Card */
    --raise-my-hand-red: #8b0000;
  }


  /* ============================================
   * NOTIFICATION POPUP IMAGES
   * Replace the images shown in the popup window
   * ============================================ */

  /* Hand Raise popup - replace with skeletal hand */
  #raise-my-hand-notification-popout:has(header .fa-hand-paper) .notification-image {
    content: url("modules/your-module/assets/skeletal-hand.webp");
  }

  /* X-Card popup - replace with skull and crossbones */
  #raise-my-hand-notification-popout:has(header .fa-times) .notification-image {
    content: url("modules/your-module/assets/skull-crossbones.webp");
  }


  /* ============================================
   * SCENE CONTROL BUTTONS
   * Replace the toolbar button icons
   * ============================================ */

  /* Raise Hand button - use a different Font Awesome icon */
  button.control.tool[data-tool="raise-hand"]::before {
    /* fa-hand-holding-skull doesn't exist, so using fa-skull */
    content: "\f54c"; /* fa-skull */
    font-family: "Font Awesome 6 Pro";
    font-weight: 900;
  }

  /* X-Card button - skull and crossbones icon */
  button.control.tool[data-tool="show-xcard"]::before {
    content: "\f714"; /* fa-skull-crossbones */
    font-family: "Font Awesome 6 Pro";
    font-weight: 900;
  }


  /* ============================================
   * NOTIFICATION POPUP HEADER ICONS
   * Replace icons in the popup window header
   * ============================================ */

  #raise-my-hand-notification-popout header i.fa-hand-paper::before {
    content: "\f54c"; /* fa-skull */
  }

  #raise-my-hand-notification-popout header i.fa-times::before {
    content: "\f714"; /* fa-skull-crossbones */
  }


  /* ============================================
   * PLAYER LIST INDICATOR
   * The icon shown next to a player's name when their hand is raised
   * ============================================ */

  .raise-my-hand-indicator::before {
    content: "\f54c" !important; /* fa-skull - needs !important to override var(--fa) */
  }

  /* Optional: Change the waving animation to a spookier effect */
  @keyframes raise-my-hand-wave {
    0%, 100% {
      transform: rotate(0deg) scale(1);
      opacity: 1;
    }
    50% {
      transform: rotate(15deg) scale(1.2);
      opacity: 0.7;
    }
  }


  /* ============================================
   * SETTINGS MENU BUTTONS
   * Icons shown in the module settings
   * ============================================ */

  button[data-key="raise-my-hand.handSettings"] i::before {
    content: "\f54c"; /* fa-skull */
  }

  button[data-key="raise-my-hand.xCardSettings"] i::before {
    content: "\f714"; /* fa-skull-crossbones */
  }


  /* ============================================
   * CONTEXT MENU (GM lower hand option)
   * Icon in the right-click menu on player list
   * ============================================ */

  #context-menu .context-item:has(.fa-hand-paper) i::before {
    content: "\f54c"; /* fa-skull */
  }

}


/* ============================================
 * CUSTOM SOUNDS - JavaScript Approach
 * ============================================
 * 
 * CSS cannot change sounds, but here's how your module can add custom sounds:
 * 
 * Option 1: Programmatically update the setting (requires user permission)
 * ------------------------------------------------------------------------
 * 
 * Hooks.once("ready", () => {
 *   // Only run if raise-my-hand is active
 *   if (!game.modules.get("raise-my-hand")?.active) return;
 *   
 *   // Get current settings
 *   const handSettings = game.settings.get("raise-my-hand", "handSettings");
 *   
 *   // Update the sound path
 *   handSettings.popup.overridePath = "modules/your-module/assets/spooky-sound.ogg";
 *   
 *   // Save (requires appropriate permissions)
 *   game.settings.set("raise-my-hand", "handSettings", handSettings);
 * });
 * 
 * 
 * Option 2: Hook into the notification to play your own sound
 * ------------------------------------------------------------
 * 
 * Hooks.on("raise-my-hand.handRaised", (userId, settings) => {
 *   // Play your custom sound instead of/in addition to the default
 *   foundry.audio.AudioHelper.play({
 *     src: "modules/your-module/assets/spooky-howl.ogg",
 *     volume: 0.8,
 *     autoplay: true,
 *     loop: false
 *   });
 * });
 * 
 * 
 * Option 3: Register sounds in Foundry's sound picker (cleanest UX)
 * ------------------------------------------------------------------
 * 
 * // In your module's init hook, register your sounds so they appear
 * // in Foundry's file picker when users browse for sounds
 * // This lets users manually select your sounds in Raise My Hand settings
 * 
 * Note: Raise My Hand would need to emit hooks for Option 2 to work.
 * Check the module's documentation for available hooks.
 */

